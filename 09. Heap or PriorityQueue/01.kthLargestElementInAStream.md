# 703. Kth Largest Element in a Stream
Easy

Design a class to find the kth largest element in a stream. Note that it is the kth largest element in the sorted order, not the kth distinct element.

Implement KthLargest class:

- KthLargest(int k, int[] nums) Initializes the object with the integer k and the stream of integers nums.
- int add(int val) Appends the integer val to the stream and returns the element representing the kth largest element in the stream.
 

Example 1:
```
Input
["KthLargest", "add", "add", "add", "add", "add"]
[[3, [4, 5, 8, 2]], [3], [5], [10], [9], [4]]
Output
[null, 4, 5, 5, 8, 8]
```

Explanation
```
KthLargest kthLargest = new KthLargest(3, [4, 5, 8, 2]);
kthLargest.add(3);   // return 4
kthLargest.add(5);   // return 5
kthLargest.add(10);  // return 5
kthLargest.add(9);   // return 8
kthLargest.add(4);   // return 8
 ```

Constraints:
- 1 <= k <= 104
- 0 <= nums.length <= 104
- -104 <= nums[i] <= 104
- -104 <= val <= 104
- At most 104 calls will be made to add.
- It is guaranteed that there will be at least k elements in the array when you search for the kth element.


# Kth Largest Element in a Stream

## Problem
Design a class that maintains the kth largest element in a stream of integers.

Implement:
- `KthLargest(int k, int[] nums)`
- `int add(int val)`

After each `add`, return the kth largest element in the stream.

---

## Key Insight

We do not need to keep all elements sorted.

Instead:
- Maintain a **min heap of size k**
- The heap contains the k largest elements seen so far
- The smallest element in that heap is the kth largest overall

---

## Why Min Heap?

- Java’s `PriorityQueue` is a min heap by default.
- If heap size exceeds `k`, remove the smallest element.
- This ensures the heap always stores the top `k` largest elements.

Heap top (`peek()`) always represents the kth largest element.

---

## Approach

1. Initialize a min heap.
2. For each number:
   - Insert into heap.
   - If heap size > k → remove smallest.
3. Return heap.peek() after each insertion.

---

## Java Implementation

```java
import java.util.PriorityQueue;

class KthLargest {

    private PriorityQueue<Integer> minHeap;
    private int k;

    public KthLargest(int k, int[] nums) {
        this.k = k;
        minHeap = new PriorityQueue<>();

        for (int num : nums) {
            add(num);
        }
    }

    public int add(int val) {
        minHeap.offer(val);

        if (minHeap.size() > k) {
            minHeap.poll();   // Remove smallest element
        }

        return minHeap.peek();  // kth largest element
    }
}
```

## Complexity Analysis

Time Complexity per add(): O(log k)

Space Complexity: O(k)
