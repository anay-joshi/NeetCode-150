# 128. Longest Consecutive Sequence
Medium

Given an unsorted array of integers nums, return the length of the longest consecutive elements sequence.

You must write an algorithm that runs in O(n) time.

 

Example 1:
```
Input: nums = [100,4,200,1,3,2]
Output: 4
Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.
```
Example 2:
```
Input: nums = [0,3,7,2,5,8,4,6,0,1]
Output: 9
 ```

Constraints:

- 0 <= nums.length <= 10<sup>5</sup>
- -10<sup>9</sup> <= nums[i] <= 10<sup>9</sup>

My strategy is to check n - 1.

For example, if n is 4, n - 1 is 3. We have 3 in the input array. That's why 4 is not start number of consecutive sequence.

The same reason will apply to 2 and 3.

For 1, n - 1 is 0. We don't have 0 in the input array. That's why we know that 1 is start number of consecutive sequence.

Let's see one by one.

Input: nums = [100,4,200,1,3,2]

longest = 0 (= longest consecutive sequence)
We found 100 and n - 1 is 99, so 100 is a start number.

longest = 1
After that, we add 1 to 100 which is 101. We don' have 101 in the input array.

Next, we found 4. n - 1 is 3, we have 3 in the input array, so skip 4.

Next, we found 200 n - 1 is 199 which is a start number. But we don't have 201 when we add 1 to 200.

longest = 1
Next, we found 1 which is a start number.

Add 1 to 1 which is 2. We have 2, so longest is now 2.
Add 1 to 2 which is 3. We have 3, so longest is now 3.
Add 1 to 3 which is 4. We have 4, so longest is now 4.
Add 1 to 4 which is 5. We don't have 5, so longest is now 4.

longest = 4
Let me skip explanation of 2 and 3. We will skip them because we have 1 and 2 in the input array.

return 4


```java
class Solution {
    public int longestConsecutive(int[] nums) {
        Set<Integer>numSet = new HashSet<>();
        for(int n:nums){
            numSet.add(n);
        }

        int lcs=0;
        
        for(int n:numSet){
            int currentSeq=1;
            int currentNum=n;
            
            if(numSet.contains(n-1)) continue;

            while(numSet.contains(currentNum+1)){
                currentSeq++;
                currentNum++;
            }

            lcs = Math.max(lcs,currentSeq);
        }
        return lcs;
    }
}
```
![Screenshot from 2025-04-09 11-59-56](https://github.com/user-attachments/assets/426ebfad-6470-453a-9137-cd52d83deae5)


