# 543. Diameter of Binary Tree
Easy

Given the root of a binary tree, return the length of the diameter of the tree.

The diameter of a binary tree is the length of the longest path between any two nodes in a tree. This path may or may not pass through the root.

The length of a path between two nodes is represented by the number of edges between them.


Example 1:
```
Input: root = [1,2,3,4,5]
Output: 3
Explanation: 3 is the length of the path [4,2,1,3] or [5,2,1,3].
```

Example 2:
```
Input: root = [1,2]
Output: 1
 ```

Constraints:
- The number of nodes in the tree is in the range [1, 104].
- -100 <= Node.val <= 100

# Diameter of Binary Tree

## Problem
The diameter of a binary tree is the length of the longest path between any two nodes.
The path may or may not pass through the root.
The length is measured in number of edges.

---

## Key Insight
For any node, the longest path passing through it is:

height(left subtree) + height(right subtree)


The maximum such value across all nodes is the diameter.

---

## Optimized Approach (DFS â€“ Bottom Up)

- Perform a postorder DFS traversal.
- From each node:
  - Get height of left and right subtrees.
  - Update diameter using `leftHeight + rightHeight`.
  - Return height to the parent as:
    ```
    1 + max(leftHeight, rightHeight)
    ```

Height flows upward, diameter is updated during traversal.

---

## Algorithm
1. Initialize a global variable `diameter = 0`.
2. Run DFS from the root.
3. At each node:
   - Compute left and right subtree heights.
   - Update diameter.
   - Return height of the current node.
4. Return the global diameter.

---

## Java Implementation

```java
class Solution {
    private int diameter = 0;

    public int diameterOfBinaryTree(TreeNode root) {
        dfs(root);
        return diameter;
    }

    private int dfs(TreeNode node) {
        if (node == null) {
            return 0;
        }

        int leftHeight = dfs(node.left);
        int rightHeight = dfs(node.right);

        // update diameter
        diameter = Math.max(diameter, leftHeight + rightHeight);

        // return height
        return 1 + Math.max(leftHeight, rightHeight);
    }
}
